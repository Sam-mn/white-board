{"version":3,"sources":["modules/socket-clint.js","components/ChatSection.js","components/OnlineUsersSection.js","components/WhiteBoard.js","components/Login.js","components/Room.js","App.js","index.js"],"names":["socket","socketIOClient","ChatSection","setMessages","setMessage","message","messages","name","useParams","messagesEndRef","useRef","useEffect","on","off","current","scrollIntoView","behavior","MainDiv","ChatDiv","map","m","i","user","FirstDiv","UserMsg","MessageP","text","AdminDiv","AdminMessage","SecondDiv","OthersMsg","UserNameP","ref","Form","onSubmit","e","preventDefault","emit","Input","type","value","required","onChange","target","placeholder","styled","div","p","form","input","OnlineUsersSection","users","console","log","Ul","u","Li","style","color","Span","toUpperCase","id","ul","li","span","WhiteBoard","canvasRef","useState","setColor","lineSize","setLineSize","openChat","setOpenChat","openOnlineUsers","setOpenOnlineUsers","setUsers","roomName","navigate","useNavigate","canvas","document","querySelector","ctx","getContext","sketch","sketch_style","getComputedStyle","width","parseInt","getPropertyValue","height","mouse","x","y","last_mouse","addEventListener","pageX","this","offsetLeft","pageY","offsetTop","touch","touches","lineWidth","lineJoin","lineCap","strokeStyle","onPaint","removeEventListener","root","beginPath","moveTo","lineTo","closePath","stroke","undefined","timeout","clearTimeout","setTimeout","data","toDataURL","room","image","Image","context","onload","drawImage","src","length","StyledLeaveButton","variant","onClick","ColorsDiv","className","StyledEraser","marginRight","SizeDiv","FlexDiv","IconDiv","UsersIconDiv","Button","FaEraser","Login","setName","error","setError","Wrapper","H1","Label","P","StyledButton","h1","label","Room","setRoomName","roomList","setRoomList","rooms","InputGroup","FormControl","aria-label","aria-describedby","Append","handleJoinRoom","StyledAlert","Alert","App","removeAllListeners","disconnect","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2b99e17d.chunk.js","sourcesContent":["import socketIOClient from \"socket.io-client\";\n\n// const endpoint = \"http://localhost:8000/\";\nconst endpoint = \"https://a-digital-whiteboard.herokuapp.com/\";\n\nconst socket = socketIOClient(endpoint);\n\nexport default socket;\n","import React, { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { FaUserAlt } from \"react-icons/fa\";\nimport { useParams } from \"react-router-dom\";\nimport socket from \"../modules/socket-clint\";\n\nconst ChatSection = ({ setMessages, setMessage, message, messages }) => {\n    const { name } = useParams();\n    const messagesEndRef = useRef(null);\n\n    useEffect(() => {\n        socket.on(\"message\", (message) => {\n            setMessages([...messages, message]);\n        });\n        return () => {\n            socket.off(\"message\");\n        };\n    }, [messages, setMessages]);\n\n    const handleOnSubmit = (e) => {\n        e.preventDefault();\n\n        if (message) {\n            socket.emit(\"sendMessage\", message, () => setMessage(\"\"));\n        }\n    };\n\n    const scrollToBottom = () => {\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    };\n\n    useEffect(scrollToBottom, [messages]);\n    return (\n        <MainDiv>\n            <ChatDiv>\n                {messages?.map((m, i) => {\n                    if (m.user === name) {\n                        return (\n                            <FirstDiv key={i}>\n                                <FaUserAlt />\n                                <UserMsg>\n                                    <MessageP>{m.text}</MessageP>\n                                </UserMsg>\n                            </FirstDiv>\n                        );\n                    } else if (m.user === \"admin\") {\n                        return (\n                            <AdminDiv key={i}>\n                                <AdminMessage>\n                                    <MessageP>{m.text}</MessageP>\n                                </AdminMessage>\n                            </AdminDiv>\n                        );\n                    } else {\n                        return (\n                            <SecondDiv key={i}>\n                                <OthersMsg>\n                                    <UserNameP>{m.user}:</UserNameP>\n                                    <MessageP>{m.text}</MessageP>\n                                </OthersMsg>\n                                <FaUserAlt />\n                            </SecondDiv>\n                        );\n                    }\n                })}\n                <div ref={messagesEndRef} />\n            </ChatDiv>\n            <Form onSubmit={handleOnSubmit}>\n                <Input\n                    type='text'\n                    value={message ? message : \"\"}\n                    required\n                    onChange={(e) => setMessage(e.target.value)}\n                    placeholder='Write some thing...'\n                />\n            </Form>\n        </MainDiv>\n    );\n};\n\nexport default ChatSection;\n\nconst MainDiv = styled.div`\n    position: absolute;\n    height: 23rem;\n    width: 16rem;\n    bottom: 16%;\n    border: 1px solid black;\n    border-radius: 0.5rem;\n    display: flex;\n    flex-direction: column;\n    padding-top: 1rem;\n    padding-bottom: 0.3rem;\n    margin-left: 1rem;\n    justify-content: space-between;\n    background-color: #ececec;\n`;\n\nconst FirstDiv = styled.div`\n    align-self: flex-start;\n    display: flex;\n    align-items: center;\n    margin-left: 0.2rem;\n    margin-bottom: 0.4rem;\n`;\n\nconst SecondDiv = styled.div`\n    align-self: flex-start;\n    display: flex;\n    align-items: center;\n    margin-right: 0.2rem;\n    margin-bottom: 0.4rem;\n    justify-content: flex-end;\n`;\n\nconst UserNameP = styled.p`\n    margin: 0;\n    margin-left: 0.5rem;\n    font-size: 0.7rem;\n    text-align: left;\n    overflow-wrap: break-word;\n`;\nconst MessageP = styled.p`\n    margin: 0;\n    margin-left: 0.5rem;\n    text-align: left;\n    overflow-wrap: break-word;\n`;\n\nconst UserMsg = styled.div`\n    width: 80%;\n    background-color: #5555ff;\n    border-radius: 1rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: self-end;\n    padding: 0.2rem;\n    padding-left: 0.5rem;\n    color: #fff;\n    margin-left: 0.5rem;\n`;\n\nconst OthersMsg = styled.div`\n    width: 80%;\n    background-color: #d2d2d2;\n    border-radius: 1rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: self-end;\n    padding: 0.2rem;\n    padding-right: 0.5rem;\n    margin-right: 0.5rem;\n`;\n\nconst Form = styled.form``;\n\nconst Input = styled.input`\n    width: 96%;\n    padding: 0.3rem;\n    border-radius: 0.3rem;\n    border: none;\n    &:focus {\n        outline: none;\n    }\n`;\n\nconst ChatDiv = styled.div`\n    height: 90%;\n    overflow: scroll;\n`;\n\nconst AdminDiv = styled.div`\n    width: 90%;\n    background-color: #d1ecf1;\n    border-radius: 1rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: self-end;\n    padding: 0.2rem;\n    padding-left: 0.5rem;\n    margin-left: 0.5rem;\n    font-size: 0.6rem;\n    margin-bottom: 0.5rem;\n`;\n\nconst AdminMessage = styled.div`\n    border-radius: 1rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: self-end;\n    padding: 0.2rem;\n    padding-left: 0.5rem;\n    margin-left: 0.5rem;\n`;\n","import React from \"react\";\nimport styled from \"styled-components\";\nimport { FaUserAlt } from \"react-icons/fa\";\n\nconst OnlineUsersSection = ({ users }) => {\n    console.log(users.users);\n    return (\n        <MainDiv>\n            <Ul>\n                {users.users?.map((u) => {\n                    console.log(u);\n                    return (\n                        <Li key={u.id}>\n                            <FaUserAlt style={{ color: \"green\" }} />\n                            <Span> {u.name.toUpperCase()}</Span>\n                        </Li>\n                    );\n                })}\n            </Ul>\n        </MainDiv>\n    );\n};\n\nexport default OnlineUsersSection;\n\nconst MainDiv = styled.div`\n    position: absolute;\n    height: 23rem;\n    width: 16rem;\n    bottom: 16%;\n    border: 1px solid black;\n    border-radius: 0.5rem;\n    padding-top: 1rem;\n    padding-bottom: 0.3rem;\n    margin-left: 1rem;\n    background-color: #ececec;\n`;\n\nconst Ul = styled.ul`\n    list-style: none;\n    padding-left: 0.8rem;\n`;\n\nconst Li = styled.li`\n    text-align: left;\n    margin-bottom: 0.5rem;\n`;\n\nconst Span = styled.span`\n    margin-left: 1rem;\n`;\n","import React, { useRef, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { FaComments, FaUsers, FaEraser } from \"react-icons/fa\";\nimport ChatSection from \"./ChatSection\";\nimport socket from \"../modules/socket-clint\";\nimport { Button } from \"react-bootstrap\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport OnlineUsersSection from \"./OnlineUsersSection\";\n\nconst WhiteBoard = () => {\n    const canvasRef = useRef();\n    const [color, setColor] = useState(\"black\");\n    const [lineSize, setLineSize] = useState(1);\n    const [openChat, setOpenChat] = useState(false);\n    const [openOnlineUsers, setOpenOnlineUsers] = useState(false);\n    const [messages, setMessages] = useState([]);\n    const [message, setMessage] = useState(\"\");\n    const [users, setUsers] = useState([]);\n    const { roomName, name } = useParams();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const canvas = document.querySelector(\"#board\");\n        //if the element is undefined return;\n        if (!canvas) return;\n        const ctx = canvas.getContext(\"2d\");\n        const sketch = document.querySelector(\"#sketch\");\n        const sketch_style = getComputedStyle(sketch);\n        canvas.width = parseInt(sketch_style.getPropertyValue(\"width\"));\n        canvas.height = parseInt(sketch_style.getPropertyValue(\"height\"));\n        const mouse = { x: 0, y: 0 };\n        const last_mouse = { x: 0, y: 0 };\n\n        /* Mouse Capturing Work */\n        canvas.addEventListener(\n            \"mousemove\",\n            function (e) {\n                last_mouse.x = mouse.x;\n                last_mouse.y = mouse.y;\n\n                mouse.x = e.pageX - this.offsetLeft;\n                mouse.y = e.pageY - this.offsetTop;\n            },\n            false\n        );\n\n        canvas.addEventListener(\n            \"touchmove\",\n            function (e) {\n                const touch = e.touches[0];\n\n                last_mouse.x = mouse.x;\n                last_mouse.y = mouse.y;\n\n                mouse.x = touch.pageX - this.offsetLeft;\n                mouse.y = touch.pageY - this.offsetTop;\n            },\n            false\n        );\n\n        /* Drawing on Paint App */\n        ctx.lineWidth = 5;\n        ctx.lineJoin = \"round\";\n        ctx.lineCap = \"round\";\n        ctx.strokeStyle = \"blue\";\n\n        canvas.addEventListener(\n            \"mousedown\",\n            function (e) {\n                canvas.addEventListener(\"mousemove\", onPaint, false);\n            },\n            false\n        );\n\n        canvas.addEventListener(\n            \"mouseup\",\n            function () {\n                canvas.removeEventListener(\"mousemove\", onPaint, false);\n            },\n            false\n        );\n\n        canvas.addEventListener(\n            \"touchstart\",\n            function () {\n                canvas.addEventListener(\"touchmove\", onPaint, false);\n            },\n            false\n        );\n\n        canvas.addEventListener(\n            \"touchend\",\n            function () {\n                canvas.removeEventListener(\"touchmove\", onPaint, false);\n            },\n            false\n        );\n\n        console.log(canvas.width);\n        let root = {};\n        const onPaint = function (e) {\n            ctx.beginPath();\n            ctx.moveTo(last_mouse.x, last_mouse.y);\n            ctx.lineTo(mouse.x, mouse.y);\n            ctx.closePath();\n            ctx.stroke();\n            if (root.timeout !== undefined) clearTimeout(root.timeout);\n            root.timeout = setTimeout(function () {\n                const data = canvas.toDataURL(\"image/png\");\n                socket.emit(\"canvas-data\", { data, room: roomName });\n            }, 1000);\n        };\n    }, [roomName]);\n\n    useEffect(() => {\n        socket.emit(\"get-existing-data\", { room: roomName }, (data) => {\n            console.log(data);\n            if (!data) return;\n            let image = new Image();\n            const canvas = document.querySelector(\"#board\");\n            const context = canvas.getContext(\"2d\");\n            image.onload = () => {\n                context.drawImage(image, 0, 0);\n            };\n            image.src = data.data;\n        });\n    }, [roomName]);\n\n    useEffect(() => {\n        const canvas = canvasRef.current;\n        const context = canvas.getContext(\"2d\");\n        context.strokeStyle = color;\n    }, [color]);\n\n    useEffect(() => {\n        const canvas = canvasRef.current;\n        const context = canvas.getContext(\"2d\");\n        context.lineWidth = lineSize;\n    }, [lineSize]);\n\n    useEffect(() => {\n        socket.on(\"message\", (message) => {\n            setMessages([...messages, message]);\n        });\n    }, [messages]);\n\n    useEffect(() => {\n        socket.on(\"canvas-data\", (data) => {\n            let image = new Image();\n            const canvas = document.querySelector(\"#board\");\n            const context = canvas.getContext(\"2d\");\n            image.onload = () => {\n                context.drawImage(image, 0, 0);\n            };\n            image.src = data;\n        });\n    }, []);\n\n    useEffect(() => {\n        socket.on(\"updated-waiting-list\", (data) => {\n            console.log(\"Got updated waiting list from server:\", data);\n        });\n    }, []);\n\n    const handleChangeColor = (e) => {\n        setColor(e.target.value);\n    };\n\n    const handleOnChange = (e) => {\n        setLineSize(e.target.value);\n    };\n\n    const handleOpenChat = () => {\n        setOpenChat(!openChat);\n        setOpenOnlineUsers(false);\n    };\n\n    const handleOnLeave = () => {\n        console.log(\"leave\");\n        navigate(`/room/${name}`);\n    };\n\n    const handleOnlineUsers = () => {\n        setOpenOnlineUsers(!openOnlineUsers);\n        setOpenChat(false);\n        socket.emit(\"getUsers\", { room: roomName }, (data) => {\n            setUsers(data);\n        });\n    };\n\n    useEffect(() => {\n        return () => {\n            socket.emit(\"leave-room\", { room: roomName });\n            socket.emit(\"getUsers\", { room: roomName }, (data) => {\n                console.log(data.users);\n                if (!data.users.length > 0) {\n                    console.log(\"its empty\");\n                    socket.emit(\"delete-room\", { room: roomName });\n                }\n            });\n            socket.off(\"canvas-data\");\n            socket.off(\"updated-waiting-list\");\n            socket.off(\"message\");\n            socket.off(\"canvas-data\");\n        };\n    }, [roomName]);\n\n    return (\n        <MainDiv>\n            <StyledLeaveButton variant='danger' onClick={handleOnLeave}>\n                Leave\n            </StyledLeaveButton>\n            <ColorsDiv className='colors'>\n                <StyledEraser\n                    style={{\n                        width: \"1.5rem\",\n                        height: \"1.5rem\",\n                        marginRight: \"0.5rem\",\n                    }}\n                    onClick={() => {\n                        setColor(\"#fff\");\n                    }}\n                />\n                <input type='color' onChange={handleChangeColor} />\n                <SizeDiv>\n                    <select name='size' id='size' onChange={handleOnChange}>\n                        <option value='1'>1</option>\n                        <option value='2'>2</option>\n                        <option value='3'>3</option>\n                        <option value='4'>4</option>\n                        <option value='5'>5</option>\n                        <option value='6'>6</option>\n                        <option value='7'>7</option>\n                        <option value='8'>8</option>\n                    </select>\n                </SizeDiv>\n            </ColorsDiv>\n            <div className='sketch' id='sketch'>\n                <canvas ref={canvasRef} id='board' />\n            </div>\n            {openChat && (\n                <ChatSection\n                    setMessages={setMessages}\n                    setMessage={setMessage}\n                    message={message}\n                    messages={messages}\n                />\n            )}\n\n            {openOnlineUsers && <OnlineUsersSection users={users} />}\n            <FlexDiv>\n                <IconDiv onClick={handleOpenChat}>\n                    <FaComments style={{ width: \"2.5rem\", height: \"2.5rem\" }} />\n                </IconDiv>\n                <UsersIconDiv onClick={() => handleOnlineUsers()}>\n                    <FaUsers style={{ width: \"2.5rem\", height: \"2.5rem\" }} />\n                </UsersIconDiv>\n            </FlexDiv>\n        </MainDiv>\n    );\n};\n\nexport default WhiteBoard;\n\nconst MainDiv = styled.div`\n    position: relative;\n    cursor: crosshair;\n`;\n\nconst ColorsDiv = styled.div`\n    padding: 0.5rem 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 22%;\n    /* background-color: #e8e8e8; */\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n    /* border: 1px solid #696969;\n    border-top: none;\n    border-radius: 0 0 0.6rem 0.6rem; */\n    height: 2.5rem;\n`;\n\nconst SizeDiv = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-left: 0.5rem;\n`;\n\nconst IconDiv = styled.div``;\n\nconst UsersIconDiv = styled.div`\n    margin-left: 1rem;\n`;\n\nconst FlexDiv = styled.div`\n    display: flex;\n    position: absolute;\n    bottom: 8%;\n    left: 1rem;\n    cursor: pointer;\n`;\n\nconst StyledLeaveButton = styled(Button)`\n    position: absolute;\n    right: 1%;\n    top: 1.2%;\n`;\n\nconst StyledEraser = styled(FaEraser)`\n    cursor: pointer;\n`;\n","import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport socket from \"../modules/socket-clint\";\n\nconst Login = () => {\n    const [name, setName] = useState(\"\");\n    const [error, setError] = useState(null);\n    const navigate = useNavigate();\n\n    const handleOnChange = (e) => {\n        setError(null);\n        setName(e.target.value);\n    };\n\n    const handleOnSubmit = (e) => {\n        e.preventDefault();\n        console.log(\"im working\");\n        if (!name) {\n            console.log(\"Write your name to continue\");\n            setError(\"Write your name to continue\");\n            return;\n        }\n        socket.emit(\"user-name\", { name });\n        navigate(`/room/${name}`);\n    };\n\n    return (\n        <Wrapper>\n            <H1>Digital whiteboard</H1>\n            <Form onSubmit={handleOnSubmit}>\n                <Label> Write your name here</Label>\n                <Input type='text' onChange={handleOnChange} />\n                {error && <P>{error}</P>}\n                <StyledButton variant='primary' type='submit'>\n                    Submit\n                </StyledButton>\n            </Form>\n        </Wrapper>\n    );\n};\n\nexport default Login;\n\nconst P = styled.p`\n    width: 50%;\n    margin: 0 auto;\n    text-align: center;\n    background-color: #fff3cd;\n    border-color: #ffeeba;\n    color: #856404;\n`;\n\nconst H1 = styled.h1`\n    color: #fff;\n    text-align: center;\n    padding-top: 3rem;\n`;\n\nconst Label = styled.label`\n    color: #fff;\n`;\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    width: 100%;\n    background-color: #333;\n`;\n\nconst Form = styled.form`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    width: 50%;\n    margin: 0 auto;\n    align-self: center;\n    margin-top: 8rem;\n`;\n\nconst Input = styled.input`\n    width: 100%;\n    &:focus {\n        outline: none;\n    }\n`;\n\nconst StyledButton = styled(Button)`\n    margin-top: 1rem;\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { InputGroup, Button, FormControl, Alert } from \"react-bootstrap\";\nimport styled from \"styled-components\";\nimport socket from \"../modules/socket-clint\";\n\nconst Room = () => {\n    const [roomName, setRoomName] = useState(\"\");\n    const [roomList, setRoomList] = useState([]);\n    const [error, setError] = useState(null);\n    const navigate = useNavigate();\n    const { name } = useParams();\n\n    const handleOnChange = (e) => {\n        setError(null);\n        setRoomName(e.target.value);\n    };\n\n    useEffect(() => {\n        socket.on(\"roomList\", (data) => {\n            setRoomList(data.rooms);\n        });\n\n        return () => {\n            socket.off(\"roomList\");\n        };\n    }, [roomList]);\n\n    useEffect(() => {\n        socket.on(\"updated-rooms\", (data) => {\n            setRoomList(data.rooms);\n        });\n\n        return () => {\n            socket.emit(\"disconnect\");\n            socket.off(\"updated-rooms\");\n        };\n    }, [roomList]);\n\n    const handleOnSubmit = (e) => {\n        e.preventDefault();\n\n        if (!roomName) {\n            setError(\"Chose a room name to continue\");\n            return;\n        }\n\n        socket.emit(\"join\", { name, roomName }, (data) => {\n            // setRoomList(data);\n            // console.log(data);\n        });\n\n        navigate(`/whiteboard/${name}/${roomName}`);\n    };\n\n    const handleJoinRoom = (e, roomName) => {\n        socket.emit(\"join\", { name, roomName }, (data) => {\n            // setRoomList(data);\n            // console.log(\"join\", data);\n        });\n        navigate(`/whiteboard/${name}/${roomName}`);\n    };\n\n    return (\n        <Wrapper>\n            <H1>Rooms</H1>\n            <Form onSubmit={handleOnSubmit}>\n                <InputGroup className='mb-3'>\n                    <FormControl\n                        placeholder='create a new room'\n                        aria-label='create a new room'\n                        aria-describedby='basic-addon2'\n                        onChange={handleOnChange}\n                        required\n                    />\n                    <InputGroup.Append>\n                        <Button variant='outline-primary' type='submit'>\n                            Create\n                        </Button>\n                    </InputGroup.Append>\n                </InputGroup>\n                {error && <P>{error}</P>}\n            </Form>\n            {roomList.length > 0 ? (\n                <Ul>\n                    {roomList.map((room, i) => {\n                        return (\n                            <Li key={i}>\n                                <span>{room.name}</span>\n                                <Button\n                                    variant='success'\n                                    onClick={(e) =>\n                                        handleJoinRoom(e, room.name)\n                                    }\n                                >\n                                    Join\n                                </Button>\n                            </Li>\n                        );\n                    })}\n                </Ul>\n            ) : (\n                <StyledAlert variant='info'>\n                    There are no rooms yet!\n                </StyledAlert>\n            )}\n        </Wrapper>\n    );\n};\n\nexport default Room;\n\nconst P = styled.p`\n    width: 50%;\n    margin: 0 auto;\n    text-align: center;\n    background-color: #fff3cd;\n    border-color: #ffeeba;\n    color: #856404;\n`;\n\nconst H1 = styled.h1`\n    color: #fff;\n    text-align: center;\n    padding-top: 3rem;\n`;\n\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    width: 100%;\n    background-color: #333;\n`;\n\nconst Form = styled.form`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    margin: 0 auto;\n    align-self: center;\n    @media (min-width: 800px) {\n        width: 50%;\n    }\n`;\n\nconst Ul = styled.ul`\n    list-style: none;\n    margin: 0 auto;\n    margin-top: 3rem;\n    color: #fff;\n    padding-left: 0;\n    width: 70%;\n`;\n\nconst Li = styled.li`\n    display: flex;\n    justify-content: space-between;\n    padding: 0.5rem;\n    border-bottom: 1px solid;\n    align-items: center;\n`;\n\nconst StyledAlert = styled(Alert)`\n    margin: 0 auto;\n    @media (min-width: 800px) {\n        width: 30%;\n    }\n`;\n\n// const Input = styled.input`\n//     width: 100%;\n//     &:focus {\n//         outline: none;\n//     }\n// `;\n\n// const Button = styled.button`\n//     margin-top: 1rem;\n//     border-radius: 0.25rem;\n//     color: #fff;\n//     background-color: #007bff;\n//     border: 1px solid #007bff;\n//     padding: 0.4rem;\n//     &:hover {\n//         background-color: #0069d9;\n//         border-color: #0062cc;\n//     }\n// `;\n","import { useEffect } from \"react\";\nimport \"./App.scss\";\nimport { BrowserRouter as Router, Routes, Route } from \"react-router-dom\";\nimport WhiteBoard from \"./components/WhiteBoard\";\nimport Login from \"./components/Login\";\nimport Room from \"./components/Room\";\nimport socket from \"./modules/socket-clint\";\n\nfunction App() {\n    useEffect(() => {\n        socket.on(\"connection\", (data) => {\n            console.log(\"connected to socket server\" + data);\n        });\n\n        return () => {\n            console.log(\"Will disconnect from socket-server now...\");\n            socket.removeAllListeners();\n            socket.disconnect();\n            socket.off();\n        };\n    }, []);\n\n    return (\n        <Router>\n            <div className='App'>\n                <Routes>\n                    <Route path='/'>\n                        <Login />\n                    </Route>\n                    <Route path='/room/:name'>\n                        <Room />\n                    </Route>\n                    <Route path='/Whiteboard/:name/:roomName'>\n                        <WhiteBoard />\n                    </Route>\n                </Routes>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}